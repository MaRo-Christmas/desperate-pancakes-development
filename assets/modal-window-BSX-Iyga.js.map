{"version":3,"file":"modal-window-BSX-Iyga.js","sources":["../../src/js/header-menu.js","../../src/js/quote.js","../../src/images/icons.svg","../../src/images/modal-window-sprite.svg","../../src/js/modal-window.js"],"sourcesContent":["// Function to Open/Close Menu for Tablet and Mobile\n\nwindow.openMenu = function openMenu() {\n    const backdrop = document.getElementById('backdrop');\n    const classes = backdrop.classList;\n    classes.add('is-open');\n  }\n  \n  window.closeMenu = function closeMenu() {\n    const backdrop = document.getElementById('backdrop');\n    const classes = backdrop.classList;\n    classes.remove('is-open');\n  }\n  \n  window.menuLayoutClickHandler = function menuLayoutClickHandler(event) {\n    event.stopPropagation();\n  }","async function fetchQuote() {\n  const response = await fetch('https://your-energy.b.goit.study/api/quote', {\n    headers: {\n      Accept: 'application/json',\n    },\n  });\n  const data = await response.json();\n  return data;\n}\n\nfunction saveQuoteToLocalStorage(quote) {\n  const currentDate = new Date().toISOString().split('T')[0];\n  localStorage.setItem(\n    'quote',\n    JSON.stringify({ date: currentDate, data: quote })\n  );\n}\n\nfunction loadQuoteFromLocalStorage() {\n  const storedQuote = JSON.parse(localStorage.getItem('quote'));\n  if (storedQuote) {\n    const currentDate = new Date().toISOString().split('T')[0];\n    if (storedQuote.date === currentDate) {\n      return storedQuote.data;\n    }\n  }\n  return null;\n}\n\nasync function displayQuote() {\n  let quoteData = loadQuoteFromLocalStorage();\n  if (!quoteData) {\n    try {\n      quoteData = await fetchQuote();\n      saveQuoteToLocalStorage(quoteData);\n    } catch (error) {\n      console.error('Error fetching the quote:', error);\n      return;\n    }\n  }\n  document.querySelectorAll('.quote-text').forEach(element => {\n    element.textContent = quoteData.quote;\n  });\n  document.querySelectorAll('.quote-author').forEach(element => {\n    element.textContent = quoteData.author;\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', displayQuote);\n","export default \"__VITE_ASSET__UGZBq17t__\"","export default \"data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='icon-trash'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='round'%20stroke-linecap='round'%20stroke-miterlimit='4'%20stroke-width='2.4'%20d='M21.333%208v-1.067c0-1.493%200-2.24-0.291-2.811-0.256-0.502-0.664-0.91-1.165-1.165-0.57-0.291-1.317-0.291-2.811-0.291h-2.133c-1.493%200-2.24%200-2.811%200.291-0.502%200.256-0.91%200.664-1.165%201.165-0.291%200.57-0.291%201.317-0.291%202.811v1.067M13.333%2015.333v6.667M18.667%2015.333v6.667M4%208h24M25.333%208v14.933c0%202.24%200%203.36-0.436%204.216-0.383%200.753-0.995%201.364-1.748%201.748-0.856%200.436-1.976%200.436-4.216%200.436h-5.867c-2.24%200-3.36%200-4.216-0.436-0.753-0.384-1.365-0.995-1.748-1.748-0.436-0.856-0.436-1.976-0.436-4.216v-14.933'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='icon-close-white'%20viewBox='0%200%2032%2032'%3e%3cpath%20fill='none'%20stroke='%23f4f4f4'%20style='stroke:%20var(--color1,%20%23f4f4f4)'%20stroke-linejoin='round'%20stroke-linecap='round'%20stroke-miterlimit='4'%20stroke-width='2.2857'%20d='M22.667%209.333l-13.333%2013.333M9.333%209.333l13.333%2013.333'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='icon-heart-favorites'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='round'%20stroke-linecap='round'%20stroke-miterlimit='4'%20stroke-width='2.4'%20d='M27.787%206.147c-0.681-0.681-1.49-1.222-2.38-1.591s-1.844-0.559-2.807-0.559c-0.963%200-1.917%200.19-2.807%200.559s-1.699%200.909-2.38%201.591l-1.413%201.413-1.413-1.413c-1.376-1.376-3.241-2.148-5.187-2.148s-3.811%200.773-5.187%202.148c-1.376%201.376-2.148%203.241-2.148%205.187s0.773%203.811%202.148%205.187l11.787%2011.787%2011.787-11.787c0.681-0.681%201.222-1.49%201.591-2.38s0.559-1.844%200.559-2.807c0-0.963-0.19-1.917-0.559-2.807s-0.909-1.699-1.591-2.38z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='icon-rating-star'%20viewBox='0%200%2034%2032'%3e%3cpath%20fill=''%20d='M14.89%202.282c0.737-2.268%203.945-2.268%204.682%200l2.080%206.402c0.33%201.014%201.275%201.701%202.341%201.701h6.731c2.384%200%203.376%203.051%201.447%204.453l-5.446%203.957c-0.863%200.627-1.224%201.738-0.894%202.752l2.080%206.402c0.737%202.268-1.859%204.154-3.788%202.752l-5.446-3.957c-0.863-0.627-2.031-0.627-2.894%200l-5.446%203.957c-1.929%201.402-4.525-0.484-3.788-2.752l2.080-6.402c0.33-1.014-0.031-2.125-0.894-2.752l-5.446-3.957c-1.929-1.402-0.938-4.453%201.447-4.453h6.731c1.066%200%202.012-0.687%202.341-1.701l2.080-6.402z'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e\"","import axios from 'axios';\nimport icons from '../images/modal-window-sprite.svg';\n\nconst BASE_URL = 'https://your-energy.b.goit.study/api/exercises/';\nlet currentExerciseId = null;\nlet removeFromFavorites = false;\nlet fetchExercises;\n\n// Елементи модального вікна з вправами\nconst modalWindow = document.querySelector('.modal-overlay');\nconst exercisesWindow = document.querySelector('.exercise');\nconst closeButton = document.querySelector('.modal-close-button');\nconst exerciseGif = document.querySelector('.modal-image-gif');\nconst exerciseName = document.querySelector('.modal-info-name');\nconst ratingScore = document.querySelector('.modal-info-rating-score');\nconst ratingStars = document.querySelector('.modal-info-rating-stars-filled');\nconst targetsList = document.querySelector('.modal-info-targets-list');\nconst description = document.querySelector('.modal-info-description');\nconst addToFavorites = document.querySelector('.add-to-favorites');\nconst giveRating = document.querySelector('.give-a-rating');\n\n// Елементи модального вікна з рейтингом\nconst ratingWindow = document.querySelector('.rating');\nconst form = document.getElementById('userForm');\nconst closeRatingButton = document.querySelector('.modal-close-rating-button');\nconst radioButtons = document.querySelectorAll('.custom-radio-star');\nconst scoreValue = document.querySelector('.modal-rating-block-score-value');\nconst errorLabel = document.querySelector('.modal-error-label-text');\nlet rate;\n\nfunction removeModalEventListeners() {\n  closeButton.removeEventListener('click', closeModal);\n  modalWindow.removeEventListener('click', modalOutsideClick);\n  document.removeEventListener('keydown', modalKeydown);\n  resetFields();\n}\n\nfunction closeModal() {\n  modalWindow.classList.remove('is-open');\n  removeModalEventListeners();\n}\n\nfunction modalOutsideClick(event) {\n  if (event.target === modalWindow) {\n    modalWindow.classList.remove('is-open');\n    removeModalEventListeners();\n  }\n}\n\nfunction modalKeydown(event) {\n  if (event.key === 'Escape') {\n    modalWindow.classList.remove('is-open');\n    removeModalEventListeners();\n  }\n}\n\nfunction resetFields() {\n  removeFromFavorites = false;\n  currentExerciseId = null;\n  rate = 0;\n}\n\nfunction addEventListenersOnModal() {\n  closeButton.addEventListener('click', closeModal);\n  modalWindow.addEventListener('click', modalOutsideClick);\n  document.addEventListener('keydown', modalKeydown);\n}\n\nfunction handleAddToFavorites() {\n  addToFavorites.removeEventListener('click', addToFavoritesHandler);\n  addToFavorites.addEventListener('click', addToFavoritesHandler);\n}\n\nfunction addToFavoritesHandler(event) {\n  event.preventDefault();\n  const storage = JSON.parse(window.localStorage.getItem('favorites'));\n  if (!storage || !storage.length) {\n    window.localStorage.setItem('favorites', JSON.stringify([fetchExercises['_id']]));\n  } else if (!storage.includes(fetchExercises['_id'])) {\n    window.localStorage.setItem('favorites', JSON.stringify([...storage, fetchExercises['_id']]));\n  }\n  if (removeFromFavorites) {\n    const updatedFavorites = storage.filter((item) => item !== fetchExercises['_id']);\n    window.localStorage.setItem('favorites', JSON.stringify([...updatedFavorites]));\n    // Перевірка, чи доступна функція перед викликом\n    if (typeof window.removeExerciseFromFavoritesWithAnimation === 'function') {\n      window.removeExerciseFromFavoritesWithAnimation(fetchExercises['_id']); // Виклик функції тільки якщо вона є\n    }\n  }\n  toggleFromFavorites(fetchExercises['_id']);\n}\n\nfunction toggleFromFavorites(id) {\n  const favorites = JSON.parse(window.localStorage.getItem('favorites'));\n  if (favorites && favorites.length && favorites.includes(id)) {\n    removeFromFavorites = true;\n    addToFavorites.innerHTML = `Remove from favorites\n                        <svg class='add-to-favorites-icon'>\n                            <use href='${icons}#icon-trash'></use>\n                        </svg>`;\n  } else {\n    removeFromFavorites = false;\n    addToFavorites.innerHTML = `Add to favorites\n                        <svg class='add-to-favorites-icon'>\n                            <use href='${icons}#icon-heart-favorites'></use>\n                        </svg>`;\n  }\n}\n\n// ______________________ADD RATING LOGIC______________________________________________________________\n\nfunction openRating() {\n  exercisesWindow.classList.add('hide-window');\n  setTimeout(() => {\n    ratingWindow.classList.remove('hide-window');\n  }, 150);\n}\n\nfunction closeRating() {\n  ratingWindow.classList.add('hide-window');\n  setTimeout(() => {\n    scoreValue.innerText = '0.0';\n    radioButtons.forEach((star) => {\n      star.classList.remove('checked-rating');\n    });\n    exercisesWindow.classList.remove('hide-window');\n    form.reset();\n  }, 150);\n}\n\nfunction setRatingScore(event) {\n  event.preventDefault();\n  rate = event.target.value;\n  scoreValue.innerText = `${rate}.0`;\n  radioButtons.forEach((star) => {\n    if (Number(star.value) <= Number(rate)) {\n      star.classList.add('checked-rating');\n    } else {\n      star.classList.remove('checked-rating');\n    }\n  });\n}\n\nfunction submitRatingForm(event) {\n  event.preventDefault();\n  const formData = new FormData(form);\n  const formObject = Object.fromEntries(formData.entries());\n  const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  if (formObject.email && !emailPattern.test(formObject.email.toString())) {\n    errorLabel.innerText = 'Invalid email format';\n    return;\n  }\n\n  if (rate) {\n    formObject['rate'] = Number(rate);\n  }\n\n  if (formObject['rate'] && formObject['email'] && formObject['review']) {\n    errorLabel.innerText = '';\n    patchRating(formObject);\n  } else {\n    if (!formObject['rate']) {\n      errorLabel.innerText = 'Please give a rating';\n    } else if (!formObject['email']) {\n      errorLabel.innerText = 'Please fill in your email';\n    } else if (!formObject['review']) {\n      errorLabel.innerText = 'Please fill in your comment';\n    }\n  }\n}\n\nasync function patchRating(data) {\n  const url = BASE_URL + currentExerciseId + '/rating';\n\n  try {\n    const response = await fetch(url, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      errorLabel.innerText = 'Something went wrong. Please try again';\n      throw new Error(`Error: ${response.status} ${response.statusText}`);\n    }\n\n    const responseData = await response.json();\n    closeRating();\n    return responseData;\n  } catch (error) {\n    errorLabel.innerText = 'Something went wrong. Please try again';\n    console.error('Error sending PATCH request:', error.message);\n    throw error;\n  }\n}\n\nfunction addEventListenersOnRatingForm() {\n  giveRating.removeEventListener('click', openRating);\n  closeRatingButton.removeEventListener('click', closeRating);\n  form.removeEventListener('submit', submitRatingForm);\n  radioButtons.forEach((radio) => {\n    radio.removeEventListener('click', setRatingScore);\n  });\n\n  giveRating.addEventListener('click', openRating);\n  closeRatingButton.addEventListener('click', closeRating);\n  form.addEventListener('submit', submitRatingForm);\n  radioButtons.forEach((radio) => {\n    radio.addEventListener('click', setRatingScore);\n  });\n}\n\nconst fetchExercisesRequest = async (id) => {\n  try {\n    const response = await axios.get(BASE_URL + id);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data', error);\n    throw error;\n  }\n};\n\nexport async function handleModalWindow(e) {\n  console.log(e.target)\n  console.log(e.currentTarget)\n  if (e.target.matches('[data-modal-open]')) {\n    currentExerciseId = e.target.getAttribute('data-modal-open');\n    if (currentExerciseId.length) {\n      fetchExercises = await fetchExercisesRequest(currentExerciseId);\n      if (fetchExercises) {\n        addEventListenersOnModal();\n        addEventListenersOnRatingForm();\n        toggleFromFavorites(fetchExercises['_id']);\n        handleAddToFavorites();\n\n        exerciseGif.src = fetchExercises['gifUrl'] || '../images/gif.jpg';\n        exerciseName.innerText = fetchExercises['name'] || '';\n        const score = Math.round(fetchExercises['rating']);\n        const starRatingWidth = score * 20 + 20;\n        ratingStars.style.setProperty('width', `${starRatingWidth}px`, 'important');\n        ratingScore.innerText = `${score}.0`;\n\n        const targetsInfoObj = {\n          target: {\n            title: 'Target',\n            subtitle: fetchExercises.target,\n          },\n          bodyPart: {\n            title: 'Body Part',\n            subtitle: fetchExercises.bodyPart,\n          },\n          equipment: {\n            title: 'Equipment',\n            subtitle: fetchExercises.equipment,\n          },\n          popularity: {\n            title: 'Popular',\n            subtitle: fetchExercises.popularity,\n          },\n          burnedCalories: {\n            title: 'Burned calories',\n            subtitle: `${fetchExercises.burnedCalories}/${fetchExercises.time}`,\n          },\n        };\n\n        targetsList.innerHTML = Object.keys(targetsInfoObj).map((item) =>\n          `<li class='modal-info-targets-list-item'>\n    <div class='modal-info-targets-list-item-container'>\n    <p class='modal-info-targets-list-item-container-title'>${targetsInfoObj[item]['title']}</p>\n    <p class='modal-info-targets-list-item-container-subtitle'>${targetsInfoObj[item]['subtitle']}</p>\n    </div>\n  </li>`).join('');\n\n        description.innerHTML = `<p>${fetchExercises['description']}</p>`;\n        modalWindow.classList.add('is-open');\n      }\n    }\n  }\n}\n\n\n"],"names":["event","fetchQuote","saveQuoteToLocalStorage","quote","currentDate","loadQuoteFromLocalStorage","storedQuote","displayQuote","quoteData","error","element","icons$1","icons","BASE_URL","currentExerciseId","removeFromFavorites","fetchExercises","modalWindow","exercisesWindow","closeButton","exerciseGif","exerciseName","ratingScore","ratingStars","targetsList","description","addToFavorites","giveRating","ratingWindow","form","closeRatingButton","radioButtons","scoreValue","errorLabel","rate","removeModalEventListeners","closeModal","modalOutsideClick","modalKeydown","resetFields","addEventListenersOnModal","handleAddToFavorites","addToFavoritesHandler","storage","updatedFavorites","item","toggleFromFavorites","id","favorites","openRating","closeRating","star","setRatingScore","submitRatingForm","formData","formObject","emailPattern","patchRating","data","url","response","responseData","addEventListenersOnRatingForm","radio","fetchExercisesRequest","axios","handleModalWindow","score","starRatingWidth","targetsInfoObj"],"mappings":"+uBAEA,OAAO,SAAW,UAAoB,CACjB,SAAS,eAAe,UAAU,EAC1B,UACjB,IAAI,SAAS,CACtB,EAED,OAAO,UAAY,UAAqB,CACrB,SAAS,eAAe,UAAU,EAC1B,UACjB,OAAO,SAAS,CACzB,EAED,OAAO,uBAAyB,SAAgCA,EAAO,CACrEA,EAAM,gBAAe,CACzB,EChBA,eAAeC,GAAa,CAO1B,OADa,MALI,MAAM,MAAM,6CAA8C,CACzE,QAAS,CACP,OAAQ,kBACT,CACL,CAAG,GAC2B,MAE9B,CAEA,SAASC,EAAwBC,EAAO,CACtC,MAAMC,EAAc,IAAI,OAAO,YAAa,EAAC,MAAM,GAAG,EAAE,CAAC,EACzD,aAAa,QACX,QACA,KAAK,UAAU,CAAE,KAAMA,EAAa,KAAMD,EAAO,CACrD,CACA,CAEA,SAASE,GAA4B,CACnC,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,OAAO,CAAC,EAC5D,GAAIA,EAAa,CACf,MAAMF,EAAc,IAAI,OAAO,YAAa,EAAC,MAAM,GAAG,EAAE,CAAC,EACzD,GAAIE,EAAY,OAASF,EACvB,OAAOE,EAAY,IAEtB,CACD,OAAO,IACT,CAEA,eAAeC,GAAe,CAC5B,IAAIC,EAAYH,IAChB,GAAI,CAACG,EACH,GAAI,CACFA,EAAY,MAAMP,IAClBC,EAAwBM,CAAS,CAClC,OAAQC,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,EAChD,MACD,CAEH,SAAS,iBAAiB,aAAa,EAAE,QAAQC,GAAW,CAC1DA,EAAQ,YAAcF,EAAU,KACpC,CAAG,EACD,SAAS,iBAAiB,eAAe,EAAE,QAAQE,GAAW,CAC5DA,EAAQ,YAAcF,EAAU,MACpC,CAAG,CACH,CAEA,SAAS,iBAAiB,mBAAoBD,CAAY,EChD1D,MAAeI,EAAA,4DCAAC,EAAA,8mFCGTC,EAAW,kDACjB,IAAIC,EAAoB,KACpBC,EAAsB,GACtBC,EAGJ,MAAMC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAkB,SAAS,cAAc,WAAW,EACpDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAe,SAAS,cAAc,kBAAkB,EACxDC,EAAc,SAAS,cAAc,0BAA0B,EAC/DC,EAAc,SAAS,cAAc,iCAAiC,EACtEC,EAAc,SAAS,cAAc,0BAA0B,EAC/DC,EAAc,SAAS,cAAc,yBAAyB,EAC9DC,EAAiB,SAAS,cAAc,mBAAmB,EAC3DC,EAAa,SAAS,cAAc,gBAAgB,EAGpDC,EAAe,SAAS,cAAc,SAAS,EAC/CC,EAAO,SAAS,eAAe,UAAU,EACzCC,EAAoB,SAAS,cAAc,4BAA4B,EACvEC,EAAe,SAAS,iBAAiB,oBAAoB,EAC7DC,EAAa,SAAS,cAAc,iCAAiC,EACrEC,EAAa,SAAS,cAAc,yBAAyB,EACnE,IAAIC,EAEJ,SAASC,GAA4B,CACnChB,EAAY,oBAAoB,QAASiB,CAAU,EACnDnB,EAAY,oBAAoB,QAASoB,CAAiB,EAC1D,SAAS,oBAAoB,UAAWC,CAAY,EACpDC,GACF,CAEA,SAASH,GAAa,CACpBnB,EAAY,UAAU,OAAO,SAAS,EACtCkB,GACF,CAEA,SAASE,EAAkBrC,EAAO,CAC5BA,EAAM,SAAWiB,IACnBA,EAAY,UAAU,OAAO,SAAS,EACtCkB,IAEJ,CAEA,SAASG,EAAatC,EAAO,CACvBA,EAAM,MAAQ,WAChBiB,EAAY,UAAU,OAAO,SAAS,EACtCkB,IAEJ,CAEA,SAASI,GAAc,CACrBxB,EAAsB,GACtBD,EAAoB,KACpBoB,EAAO,CACT,CAEA,SAASM,GAA2B,CAClCrB,EAAY,iBAAiB,QAASiB,CAAU,EAChDnB,EAAY,iBAAiB,QAASoB,CAAiB,EACvD,SAAS,iBAAiB,UAAWC,CAAY,CACnD,CAEA,SAASG,GAAuB,CAC9Bf,EAAe,oBAAoB,QAASgB,CAAqB,EACjEhB,EAAe,iBAAiB,QAASgB,CAAqB,CAChE,CAEA,SAASA,EAAsB1C,EAAO,CACpCA,EAAM,eAAc,EACpB,MAAM2C,EAAU,KAAK,MAAM,OAAO,aAAa,QAAQ,WAAW,CAAC,EAMnE,GALI,CAACA,GAAW,CAACA,EAAQ,OACvB,OAAO,aAAa,QAAQ,YAAa,KAAK,UAAU,CAAC3B,EAAe,GAAM,CAAC,CAAC,EACtE2B,EAAQ,SAAS3B,EAAe,GAAM,GAChD,OAAO,aAAa,QAAQ,YAAa,KAAK,UAAU,CAAC,GAAG2B,EAAS3B,EAAe,GAAM,CAAC,CAAC,EAE1FD,EAAqB,CACvB,MAAM6B,EAAmBD,EAAQ,OAAQE,GAASA,IAAS7B,EAAe,GAAM,EAChF,OAAO,aAAa,QAAQ,YAAa,KAAK,UAAU,CAAC,GAAG4B,CAAgB,CAAC,CAAC,EAE1E,OAAO,OAAO,0CAA6C,YAC7D,OAAO,yCAAyC5B,EAAe,GAAM,CAExE,CACD8B,EAAoB9B,EAAe,GAAM,CAC3C,CAEA,SAAS8B,EAAoBC,EAAI,CAC/B,MAAMC,EAAY,KAAK,MAAM,OAAO,aAAa,QAAQ,WAAW,CAAC,EACjEA,GAAaA,EAAU,QAAUA,EAAU,SAASD,CAAE,GACxDhC,EAAsB,GACtBW,EAAe,UAAY;AAAA;AAAA,yCAEUd,CAAK;AAAA,kCAG1CG,EAAsB,GACtBW,EAAe,UAAY;AAAA;AAAA,yCAEUd,CAAK;AAAA,gCAG9C,CAIA,SAASqC,GAAa,CACpB/B,EAAgB,UAAU,IAAI,aAAa,EAC3C,WAAW,IAAM,CACfU,EAAa,UAAU,OAAO,aAAa,CAC5C,EAAE,GAAG,CACR,CAEA,SAASsB,GAAc,CACrBtB,EAAa,UAAU,IAAI,aAAa,EACxC,WAAW,IAAM,CACfI,EAAW,UAAY,MACvBD,EAAa,QAASoB,GAAS,CAC7BA,EAAK,UAAU,OAAO,gBAAgB,CAC5C,CAAK,EACDjC,EAAgB,UAAU,OAAO,aAAa,EAC9CW,EAAK,MAAK,CACX,EAAE,GAAG,CACR,CAEA,SAASuB,EAAepD,EAAO,CAC7BA,EAAM,eAAc,EACpBkC,EAAOlC,EAAM,OAAO,MACpBgC,EAAW,UAAY,GAAGE,CAAI,KAC9BH,EAAa,QAASoB,GAAS,CACzB,OAAOA,EAAK,KAAK,GAAK,OAAOjB,CAAI,EACnCiB,EAAK,UAAU,IAAI,gBAAgB,EAEnCA,EAAK,UAAU,OAAO,gBAAgB,CAE5C,CAAG,CACH,CAEA,SAASE,EAAiBrD,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMsD,EAAW,IAAI,SAASzB,CAAI,EAC5B0B,EAAa,OAAO,YAAYD,EAAS,QAAS,CAAA,EAClDE,EAAe,2CACrB,GAAID,EAAW,OAAS,CAACC,EAAa,KAAKD,EAAW,MAAM,SAAQ,CAAE,EAAG,CACvEtB,EAAW,UAAY,uBACvB,MACD,CAEGC,IACFqB,EAAW,KAAU,OAAOrB,CAAI,GAG9BqB,EAAW,MAAWA,EAAW,OAAYA,EAAW,QAC1DtB,EAAW,UAAY,GACvBwB,EAAYF,CAAU,GAEjBA,EAAW,KAEJA,EAAW,MAEXA,EAAW,SACrBtB,EAAW,UAAY,+BAFvBA,EAAW,UAAY,4BAFvBA,EAAW,UAAY,sBAO7B,CAEA,eAAewB,EAAYC,EAAM,CAC/B,MAAMC,EAAM9C,EAAWC,EAAoB,UAE3C,GAAI,CACF,MAAM8C,EAAW,MAAM,MAAMD,EAAK,CAChC,OAAQ,QACR,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,KAAK,UAAUD,CAAI,CAC/B,CAAK,EAED,GAAI,CAACE,EAAS,GACZ,MAAA3B,EAAW,UAAY,yCACjB,IAAI,MAAM,UAAU2B,EAAS,MAAM,IAAIA,EAAS,UAAU,EAAE,EAGpE,MAAMC,EAAe,MAAMD,EAAS,OACpC,OAAAV,IACOW,CACR,OAAQpD,EAAO,CACd,MAAAwB,EAAW,UAAY,yCACvB,QAAQ,MAAM,+BAAgCxB,EAAM,OAAO,EACrDA,CACP,CACH,CAEA,SAASqD,GAAgC,CACvCnC,EAAW,oBAAoB,QAASsB,CAAU,EAClDnB,EAAkB,oBAAoB,QAASoB,CAAW,EAC1DrB,EAAK,oBAAoB,SAAUwB,CAAgB,EACnDtB,EAAa,QAASgC,GAAU,CAC9BA,EAAM,oBAAoB,QAASX,CAAc,CACrD,CAAG,EAEDzB,EAAW,iBAAiB,QAASsB,CAAU,EAC/CnB,EAAkB,iBAAiB,QAASoB,CAAW,EACvDrB,EAAK,iBAAiB,SAAUwB,CAAgB,EAChDtB,EAAa,QAASgC,GAAU,CAC9BA,EAAM,iBAAiB,QAASX,CAAc,CAClD,CAAG,CACH,CAEA,MAAMY,EAAwB,MAAOjB,GAAO,CAC1C,GAAI,CAEF,OADiB,MAAMkB,EAAM,IAAIpD,EAAWkC,CAAE,GAC9B,IACjB,OAAQtC,EAAO,CACd,cAAQ,MAAM,sBAAuBA,CAAK,EACpCA,CACP,CACH,EAEO,eAAeyD,EAAkB,EAAG,CAGzC,GAFA,QAAQ,IAAI,EAAE,MAAM,EACpB,QAAQ,IAAI,EAAE,aAAa,EACvB,EAAE,OAAO,QAAQ,mBAAmB,IACtCpD,EAAoB,EAAE,OAAO,aAAa,iBAAiB,EACvDA,EAAkB,SACpBE,EAAiB,MAAMgD,EAAsBlD,CAAiB,EAC1DE,IAAgB,CAClBwB,IACAsB,IACAhB,EAAoB9B,EAAe,GAAM,EACzCyB,IAEArB,EAAY,IAAMJ,EAAe,QAAa,oBAC9CK,EAAa,UAAYL,EAAe,MAAW,GACnD,MAAMmD,EAAQ,KAAK,MAAMnD,EAAe,MAAS,EAC3CoD,EAAkBD,EAAQ,GAAK,GACrC5C,EAAY,MAAM,YAAY,QAAS,GAAG6C,CAAe,KAAM,WAAW,EAC1E9C,EAAY,UAAY,GAAG6C,CAAK,KAEhC,MAAME,EAAiB,CACrB,OAAQ,CACN,MAAO,SACP,SAAUrD,EAAe,MAC1B,EACD,SAAU,CACR,MAAO,YACP,SAAUA,EAAe,QAC1B,EACD,UAAW,CACT,MAAO,YACP,SAAUA,EAAe,SAC1B,EACD,WAAY,CACV,MAAO,UACP,SAAUA,EAAe,UAC1B,EACD,eAAgB,CACd,MAAO,kBACP,SAAU,GAAGA,EAAe,cAAc,IAAIA,EAAe,IAAI,EAClE,CACX,EAEQQ,EAAY,UAAY,OAAO,KAAK6C,CAAc,EAAE,IAAKxB,GACvD;AAAA;AAAA,8DAEoDwB,EAAexB,CAAI,EAAE,KAAQ;AAAA,iEAC1BwB,EAAexB,CAAI,EAAE,QAAW;AAAA;AAAA,QAEzF,EAAE,KAAK,EAAE,EAETpB,EAAY,UAAY,MAAMT,EAAe,WAAc,OAC3DC,EAAY,UAAU,IAAI,SAAS,CACpC,CAGP"}