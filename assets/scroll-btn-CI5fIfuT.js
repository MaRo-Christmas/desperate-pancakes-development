import{a as B}from"./vendor-CQpva9gi.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const v of s.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();window.openMenu=function(){document.getElementById("backdrop").classList.add("is-open")};window.closeMenu=function(){document.getElementById("backdrop").classList.remove("is-open")};window.menuLayoutClickHandler=function(e){e.stopPropagation()};async function $(){return await(await fetch("https://your-energy.b.goit.study/api/quote",{headers:{Accept:"application/json"}})).json()}function j(t){const e=new Date().toISOString().split("T")[0];localStorage.setItem("quote",JSON.stringify({date:e,data:t}))}function D(){const t=JSON.parse(localStorage.getItem("quote"));if(t){const e=new Date().toISOString().split("T")[0];if(t.date===e)return t.data}return null}async function R(){let t=D();if(!t)try{t=await $(),j(t)}catch(e){console.error("Error fetching the quote:",e);return}document.querySelectorAll(".quote-text").forEach(e=>{e.textContent=t.quote}),document.querySelectorAll(".quote-author").forEach(e=>{e.textContent=t.author})}document.addEventListener("DOMContentLoaded",R);const ee="/desperate-pancakes-development/assets/icons-D0JUX4go.svg",L="data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='icon-trash'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='round'%20stroke-linecap='round'%20stroke-miterlimit='4'%20stroke-width='2.4'%20d='M21.333%208v-1.067c0-1.493%200-2.24-0.291-2.811-0.256-0.502-0.664-0.91-1.165-1.165-0.57-0.291-1.317-0.291-2.811-0.291h-2.133c-1.493%200-2.24%200-2.811%200.291-0.502%200.256-0.91%200.664-1.165%201.165-0.291%200.57-0.291%201.317-0.291%202.811v1.067M13.333%2015.333v6.667M18.667%2015.333v6.667M4%208h24M25.333%208v14.933c0%202.24%200%203.36-0.436%204.216-0.383%200.753-0.995%201.364-1.748%201.748-0.856%200.436-1.976%200.436-4.216%200.436h-5.867c-2.24%200-3.36%200-4.216-0.436-0.753-0.384-1.365-0.995-1.748-1.748-0.436-0.856-0.436-1.976-0.436-4.216v-14.933'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='icon-close-white'%20viewBox='0%200%2032%2032'%3e%3cpath%20fill='none'%20stroke='%23f4f4f4'%20style='stroke:%20var(--color1,%20%23f4f4f4)'%20stroke-linejoin='round'%20stroke-linecap='round'%20stroke-miterlimit='4'%20stroke-width='2.2857'%20d='M22.667%209.333l-13.333%2013.333M9.333%209.333l13.333%2013.333'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='icon-heart-favorites'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='round'%20stroke-linecap='round'%20stroke-miterlimit='4'%20stroke-width='2.4'%20d='M27.787%206.147c-0.681-0.681-1.49-1.222-2.38-1.591s-1.844-0.559-2.807-0.559c-0.963%200-1.917%200.19-2.807%200.559s-1.699%200.909-2.38%201.591l-1.413%201.413-1.413-1.413c-1.376-1.376-3.241-2.148-5.187-2.148s-3.811%200.773-5.187%202.148c-1.376%201.376-2.148%203.241-2.148%205.187s0.773%203.811%202.148%205.187l11.787%2011.787%2011.787-11.787c0.681-0.681%201.222-1.49%201.591-2.38s0.559-1.844%200.559-2.807c0-0.963-0.19-1.917-0.559-2.807s-0.909-1.699-1.591-2.38z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='icon-rating-star'%20viewBox='0%200%2034%2032'%3e%3cpath%20fill=''%20d='M14.89%202.282c0.737-2.268%203.945-2.268%204.682%200l2.080%206.402c0.33%201.014%201.275%201.701%202.341%201.701h6.731c2.384%200%203.376%203.051%201.447%204.453l-5.446%203.957c-0.863%200.627-1.224%201.738-0.894%202.752l2.080%206.402c0.737%202.268-1.859%204.154-3.788%202.752l-5.446-3.957c-0.863-0.627-2.031-0.627-2.894%200l-5.446%203.957c-1.929%201.402-4.525-0.484-3.788-2.752l2.080-6.402c0.33-1.014-0.031-2.125-0.894-2.752l-5.446-3.957c-1.929-1.402-0.938-4.453%201.447-4.453h6.731c1.066%200%202.012-0.687%202.341-1.701l2.080-6.402z'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e",T="https://your-energy.b.goit.study/api/exercises/";let d=null,m=!1,n;const c=document.querySelector(".modal-overlay"),M=document.querySelector(".exercise"),O=document.querySelector(".modal-close-button"),C=document.querySelector(".modal-image-gif"),H=document.querySelector(".modal-info-name"),J=document.querySelector(".modal-info-rating-score"),_=document.querySelector(".modal-info-rating-stars-filled"),W=document.querySelector(".modal-info-targets-list"),Q=document.querySelector(".modal-info-description"),f=document.querySelector(".add-to-favorites"),b=document.querySelector(".give-a-rating"),F=document.querySelector(".rating"),g=document.getElementById("userForm"),S=document.querySelector(".modal-close-rating-button"),p=document.querySelectorAll(".custom-radio-star"),P=document.querySelector(".modal-rating-block-score-value"),a=document.querySelector(".modal-error-label-text");let l;function w(){O.removeEventListener("click",y),c.removeEventListener("click",I),document.removeEventListener("keydown",A),z()}function y(){c.classList.remove("is-open"),w()}function I(t){t.target===c&&(c.classList.remove("is-open"),w())}function A(t){t.key==="Escape"&&(c.classList.remove("is-open"),w())}function z(){m=!1,d=null,l=0}function U(){O.addEventListener("click",y),c.addEventListener("click",I),document.addEventListener("keydown",A)}function K(){f.removeEventListener("click",E),f.addEventListener("click",E)}function E(t){t.preventDefault();const e=JSON.parse(window.localStorage.getItem("favorites"));if(!e||!e.length?window.localStorage.setItem("favorites",JSON.stringify([n._id])):e.includes(n._id)||window.localStorage.setItem("favorites",JSON.stringify([...e,n._id])),m){const o=e.filter(i=>i!==n._id);window.localStorage.setItem("favorites",JSON.stringify([...o])),typeof window.removeExerciseFromFavoritesWithAnimation=="function"&&(window.removeExerciseFromFavoritesWithAnimation(n._id),y())}N(n._id)}function N(t){const e=JSON.parse(window.localStorage.getItem("favorites"));e&&e.length&&e.includes(t)?(m=!0,f.innerHTML=`Remove from favorites
                        <svg class='add-to-favorites-icon'>
                            <use href='${L}#icon-trash'></use>
                        </svg>`):(m=!1,f.innerHTML=`Add to favorites
                        <svg class='add-to-favorites-icon'>
                            <use href='${L}#icon-heart-favorites'></use>
                        </svg>`)}function k(){M.classList.add("hide-window"),setTimeout(()=>{F.classList.remove("hide-window")},150)}function h(){F.classList.add("hide-window"),setTimeout(()=>{P.innerText="0.0",p.forEach(t=>{t.classList.remove("checked-rating")}),M.classList.remove("hide-window"),g.reset()},150)}function x(t){t.preventDefault(),l=t.target.value,P.innerText=`${l}.0`,p.forEach(e=>{Number(e.value)<=Number(l)?e.classList.add("checked-rating"):e.classList.remove("checked-rating")})}function q(t){t.preventDefault();const e=new FormData(g),o=Object.fromEntries(e.entries()),i=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;if(o.email&&!i.test(o.email.toString())){a.innerText="Invalid email format";return}l&&(o.rate=Number(l)),o.rate&&o.email&&o.review?(a.innerText="",Z(o)):o.rate?o.email?o.review||(a.innerText="Please fill in your comment"):a.innerText="Please fill in your email":a.innerText="Please give a rating"}async function Z(t){const e=T+d+"/rating";try{const o=await fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok)throw a.innerText="Something went wrong. Please try again",new Error(`Error: ${o.status} ${o.statusText}`);const i=await o.json();return h(),i}catch(o){throw a.innerText="Something went wrong. Please try again",console.error("Error sending PATCH request:",o.message),o}}function G(){b.removeEventListener("click",k),S.removeEventListener("click",h),g.removeEventListener("submit",q),p.forEach(t=>{t.removeEventListener("click",x)}),b.addEventListener("click",k),S.addEventListener("click",h),g.addEventListener("submit",q),p.forEach(t=>{t.addEventListener("click",x)})}const V=async t=>{try{return(await B.get(T+t)).data}catch(e){throw console.error("Error fetching data",e),e}};async function te(t){if(t.target.matches("[data-modal-open]")&&(d=t.target.getAttribute("data-modal-open"),d.length&&(n=await V(d),n))){U(),G(),N(n._id),K(),C.src=n.gifUrl||"../images/gif.jpg",H.innerText=n.name||"";const e=Math.round(n.rating),o=e*20+20;_.style.setProperty("width",`${o}px`,"important"),J.innerText=`${e}.0`;const i={target:{title:"Target",subtitle:n.target},bodyPart:{title:"Body Part",subtitle:n.bodyPart},equipment:{title:"Equipment",subtitle:n.equipment},popularity:{title:"Popular",subtitle:n.popularity},burnedCalories:{title:"Burned calories",subtitle:`${n.burnedCalories}/${n.time}`}};W.innerHTML=Object.keys(i).map(r=>`<li class='modal-info-targets-list-item'>
    <div class='modal-info-targets-list-item-container'>
    <p class='modal-info-targets-list-item-container-title'>${i[r].title}</p>
    <p class='modal-info-targets-list-item-container-subtitle'>${i[r].subtitle}</p>
    </div>
  </li>`).join(""),Q.innerHTML=`<p>${n.description}</p>`,c.classList.add("is-open")}}function X(){window.scrollTo({top:0,behavior:"smooth"})}const u=document.querySelector(".scroll-to-top");u?(window.addEventListener("scroll",()=>{window.scrollY>200?u.classList.add("show"):u.classList.remove("show")}),u.addEventListener("click",X)):console.error("Scroll-to-top button not found.");export{te as h,ee as i};
//# sourceMappingURL=scroll-btn-CI5fIfuT.js.map
